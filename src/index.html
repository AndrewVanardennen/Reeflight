<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <title>Reef Light</title>
    <meta name="description" content="">

    <!-- Mobile -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Chrome / Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="black">
    <link rel="icon" href="icon.png">

    <!-- Safari / iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" href="apple-touch-icon.png">

    <!-- Import manifest for serviceWorker, pushNotifications & addToHomeScreen support. -->
    <link rel="manifest" href="manifest.json">

    <!-- Polymer settings, use shadowDom & lazyRegister -->
    <script>
      window.Polymer = {
        dom: 'shadow',
        lazyRegister: 'max'
      };
    </script>

    <!-- Load Web Components & customElements when not supported-->
    <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('../service-worker.js').then(function(registration) {
          // Registration was successful
          console.log('ServiceWorker registration successful with scope: ', registration.scope);
        }).catch(function(err) {
          // registration failed :(
          console.log('ServiceWorker registration failed: ', err);
        });
      }

      var webComponentsSupported = ('registerElement' in document
          && 'import' in document.createElement('link')
          && 'content' in document.createElement('template'));
      var customElementsV1Supported = 'customElements' in window;

      function importScript(src) {
        var script = document.createElement('script');
        script.src = src;
        document.head.appendChild(script);
      }
      if (!webComponentsSupported) {
        importScript('../bower_components/webcomponentsjs/webcomponents-lite.js');
      }
      if (!customElementsV1Supported) {
        importScript('../bower_components/custom-elements/custom-elements.min.js')
      }

    </script>
    <style>
      body, html {
        margin: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
      }
    </style>

    <link rel="import" href="elements/reeflight-app.html" async>
  </head>
  <body>
    <reeflight-app></reeflight-app>
  </body>
</html>
