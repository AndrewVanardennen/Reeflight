<script>
  class ReefGrid extends HTMLElement {
     static get is() { return 'reef-grid'; }
     static get observedAttributes() { return [] }
     constructor() {
       super();
       this.root = this.attachShadow({mode: 'open'});
       this.root.innerHTML = `
        <style>
          :host {
            display: flex;
            width: 100%;
            height: 100%;
            --reef-view-padding: 48px 0;
            --reef-view-background: none;
          }
          .grid {
            display: flex;
            flex-direction: column;
            justify-content: space-around;
          }
          .grid-item {
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
                        0 1px 5px 0 rgba(0, 0, 0, 0.12),
                        0 3px 1px -2px rgba(0, 0, 0, 0.2);
            box-sizing: border-box;
            width: 100%;
            padding: 8px 16px;
            margin-bottom: 6px;
            background: #FFF;
          }
          @media (min-width: 1109px) {
            :host {
              --reef-view-container-direction: row;
            }
            .grid {
              flex-flow: row wrap;
            }
            .grid-item {
              width: calc(50% - 6px);
            }
            :host:last-child {
              width: calc(100% - 6px);
            }
          }
        </style>
        <reef-view no-shadow>
          <div class="grid"></div>
        </reef-view>
       `
     }
     connectedCallback() {
       // TODO: check for child changes
       let childs = this.querySelectorAll('.grid-item');
       setTimeout(() => {
         for (var i = 0; i < childs.length; i++) {
           this.root.querySelector('.grid').appendChild(childs[i]);
         }
       }, 10);
     }
     attributeChangedCallback(name, oldVal, newVal) {
       console.log(name, oldVal, newVal);
     }
  }
  customElements.define(ReefGrid.is, ReefGrid)
</script>
